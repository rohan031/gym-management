"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[374],{7033:function(e,s,t){var n=t(184);s.Z=function(e){var s=e.success,t=e.message;return(0,n.jsxs)("div",{className:"alert ".concat(s?"":"error"),children:[(0,n.jsx)("h3",{children:s?"Success":"Error"}),(0,n.jsx)("p",{children:t})]})}},8896:function(e,s,t){t.r(s);var n=t(885),a=t(7689),c=t(2791),i=t(7033),d=t(184);s.default=function(){var e=(0,a.UO)().memberId,s=(0,a.s0)(),t=(0,c.useState)({found:!1,data:""}),r=(0,n.Z)(t,2),o=r[0],u=r[1],l=(0,c.useState)(123),m=(0,n.Z)(l,2),h=m[0],f=m[1],j=(0,c.useState)({display:!1,success:!0,msg:""}),x=(0,n.Z)(j,2),p=x[0],b=x[1],v=(0,c.useState)(30),g=(0,n.Z)(v,2),_=g[0],y=g[1];(0,c.useEffect)((function(){fetch("/members/".concat(e)).then((function(e){return e.json()})).then((function(e){e.success?u({found:!0,data:e.data}):u({found:!1,data:e.msg})})).catch((function(e){console.log(e)}))}),[h]);var N=function(e){var s={display:!0,success:e.success,msg:e.msg};console.log(s),b(s),e.success&&(f(Math.random()),y(30)),setTimeout((function(){b({display:!1,status:!0,msg:""})}),3e3)};return(0,d.jsxs)("div",{className:"member-info ".concat(o.found?"":"not-found"),children:[p.display&&(0,d.jsx)(i.Z,{success:p.success,message:p.msg}),!o.found&&(0,d.jsx)("h2",{children:o.data}),o.found&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{children:o.data.name}),(0,d.jsxs)("div",{className:"member-info__details",children:[(0,d.jsxs)("div",{className:"member-info__details-item",children:[(0,d.jsx)("h3",{children:"ID: "}),(0,d.jsx)("p",{children:o.data.id})]}),(0,d.jsxs)("div",{className:"member-info__details-item",children:[(0,d.jsx)("h3",{children:"Plan: "}),(0,d.jsx)("p",{children:o.data.plan})]}),(0,d.jsxs)("div",{className:"member-info__details-item",children:[(0,d.jsx)("h3",{children:"Contact: "}),(0,d.jsx)("p",{children:o.data.contact})]}),(0,d.jsxs)("div",{className:"member-info__details-item",children:[(0,d.jsx)("h3",{children:"Days Left: "}),(0,d.jsx)("p",{children:o.data.daysLeft})]}),(0,d.jsxs)("div",{className:"member-info__details-item",children:[(0,d.jsx)("h3",{children:"Status: "}),(0,d.jsx)("p",{className:"".concat(0==o.data.status?"Active":1==o.data.status?"Due":"Expired"),children:0==o.data.status?"Active":1==o.data.status?"Due":"Expired"})]}),(0,d.jsxs)("form",{className:"member-info__details-item increase",onSubmit:function(e){e.preventDefault();var s=+_+ +o.data.daysLeft,t={id:o.data.id,duration:s},n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify(t)};fetch("/members/update",n).then((function(e){return e.json()})).then((function(e){return N(e)})).catch((function(e){console.log(e)}))},children:[(0,d.jsx)("input",{type:"number",onChange:function(e){return y(e.target.value)},min:1,placeholder:"Duration...",value:_,required:!0}),(0,d.jsx)("button",{children:"Increase"})]}),(0,d.jsx)("button",{onClick:function(){fetch("/members/".concat(e),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){e.success?s("/dashboard/members"):(b({display:!0,success:!1,msg:e.msg}),setTimeout((function(){b({display:!1,status:!0,msg:""})}),3e3))})).catch((function(e){console.log(e)}))},className:"delete",children:"Delete"})]})]})]})}}}]);
//# sourceMappingURL=374.da298331.chunk.js.map